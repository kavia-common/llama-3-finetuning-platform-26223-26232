{"is_source_file": true, "format": "Java", "description": "This Java class, StorageService, manages filesystem storage operations for datasets, logs, metrics, and artifacts within a project. It provides methods for storing datasets, loading resources, deleting paths, preparing directories, and writing logs, metrics, and artifacts. It is part of a backend service for a fine-tuning platform.", "external_files": ["com.example.finetunellama3backend.config.StorageConfig", "org.springframework.core.io.FileSystemResource", "org.springframework.core.io.Resource", "org.springframework.stereotype.Service", "org.springframework.util.FileSystemUtils", "org.springframework.web.multipart.MultipartFile", "java.io.IOException", "java.nio.charset.StandardCharsets", "java.nio.file.*", "java.time.Instant", "java.util.UUID"], "external_methods": ["Paths.get", "Files.createDirectories", "Files.copy", "Files.writeString", "Files.exists", "FileSystemUtils.deleteRecursively", "Instant.now", "UUID.randomUUID"], "published": ["storeDataset", "loadAsResource", "deletePath", "prepareJobDir", "writeLog", "writeMetrics", "writeArtifact"], "classes": [{"name": "StorageService", "description": "Provides filesystem storage operations for datasets, logs, metrics, and artifacts, including storing, loading, deleting, and preparing directories."}], "methods": [{"name": "StorageService", "description": "Constructor that initializes storage root path and creates necessary directories based on provided configuration."}, {"name": "init", "description": "Creates base directories for datasets, jobs, and artifacts if they do not exist."}, {"name": "storeDataset", "description": "Stores an uploaded dataset file into a timestamped directory with a metadata file."}, {"name": "loadAsResource", "description": "Loads a file as a Spring Resource given its absolute path."}, {"name": "deletePath", "description": "Deletes a filesystem path if it exists."}, {"name": "prepareJobDir", "description": "Prepares a directory for a specific job identified by job ID."}, {"name": "writeLog", "description": "Appends or creates a log file for a specific job."}, {"name": "writeMetrics", "description": "Writes a metrics JSON file for a specific job."}, {"name": "writeArtifact", "description": "Creates an artifact file for a specific job, simulating a model artifact."}], "calls": ["Paths.get", "Files.createDirectories", "Files.copy", "Files.writeString", "Files.exists", "FileSystemUtils.deleteRecursively", "Instant.now", "UUID.randomUUID"], "search-terms": ["StorageService", "datasets directory", "job directories", "artifact files", "log writing", "metadata storage", "file operations"], "state": 2, "file_id": 19, "knowledge_revision": 40, "git_revision": "", "hash": "27423bfe57979ef6251b4634e3652340", "format-version": 4, "code-base-name": "finetune_llama3_backend", "filename": "finetune_llama3_backend/src/main/java/com/example/finetunellama3backend/service/StorageService.java", "revision_history": [{"40": ""}]}